(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[484],{"./projects/irrtirer/src/app/shared/color-picker/color-picker.component.scss?ngResource"(module,__unused_webpack_exports,__webpack_require__){var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  border-radius: 4px;\n  padding: 10px 15px;\n  background-color: var(--irr-contrast-lightest);\n  box-shadow: 0px 0px 5px 1px rgba(0, 0, 0, 0.1);\n}\n:host .color-preview {\n  display: block;\n  width: 40px;\n  height: 40px;\n  margin-left: auto;\n  border-radius: 50%;\n  box-shadow: 0px 0px 4px 1px rgba(0, 0, 0, 0.1);\n}\n:host .color-preview:not(.disabled) {\n  cursor: pointer;\n}\n:host .color-label {\n  display: flex;\n  flex-direction: column;\n}\n:host .color-label__header {\n  color: var(--irr-contrast-highest);\n}\n:host .color-label__code {\n  color: var(--irr-contrast-medium);\n  font-size: 15px;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/irrtirer/src/app/shared/color-picker/color-picker.stories.ts"(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>color_picker_stories});var tslib_es6=__webpack_require__("./node_modules/tslib/tslib.es6.mjs");var color_picker_componentngResource=__webpack_require__("./projects/irrtirer/src/app/shared/color-picker/color-picker.component.scss?ngResource"),color_picker_componentngResource_default=__webpack_require__.n(color_picker_componentngResource),core=__webpack_require__("./node_modules/@angular/core/fesm2022/core.mjs"),_untracked_chunk=__webpack_require__("./node_modules/@angular/core/fesm2022/_untracked-chunk.mjs"),_debug_node_chunk=__webpack_require__("./node_modules/@angular/core/fesm2022/_debug_node-chunk.mjs"),_overlay_module_chunk=__webpack_require__("./node_modules/@angular/cdk/fesm2022/_overlay-module-chunk.mjs");var color_selection_panel_componentngResource=__webpack_require__("./projects/irrtirer/src/app/shared/color-picker/color-selection-panel/color-selection-panel.component.scss?ngResource"),color_selection_panel_componentngResource_default=__webpack_require__.n(color_selection_panel_componentngResource),_resource_chunk=__webpack_require__("./node_modules/@angular/core/fesm2022/_resource-chunk.mjs"),input=__webpack_require__("./node_modules/@angular/material/fesm2022/input.mjs"),fesm2022_forms=__webpack_require__("./node_modules/@angular/forms/fesm2022/forms.mjs");var color_slider_componentngResource=__webpack_require__("./projects/irrtirer/src/app/shared/color-picker/color-selection-panel/color-slider/color-slider.component.scss?ngResource"),color_slider_componentngResource_default=__webpack_require__.n(color_slider_componentngResource),node_modules_color=__webpack_require__("./node_modules/color/index.js");let ColorSliderComponent=class ColorSliderComponent{constructor(){this.value=core.model.required(),this.valueChange=(0,core.output)(),this.canvas=core.viewChild.required("canvas"),this.cursorData=(0,_resource_chunk.EW)(()=>{const value=this.value(),sliderWidth=this.canvas()?.nativeElement.getBoundingClientRect().width??1;return this.computeCursorData(value,sliderWidth)}),this.destroyRef=(0,_untracked_chunk.WQX)(_untracked_chunk.abz),this.isDragging=!1,this.onMouseDown=evt=>{this.isDragging=!0,document.body.style.cursor="pointer",this.onSliderMouseInteraction(evt)},this.onMouseUp=()=>{this.isDragging=!1,document.body.style.cursor=""},this.onMouseMove=evt=>{this.isDragging&&this.onSliderMouseInteraction(evt)}}onSliderMouseInteraction(evt){const canvasRect=this.canvas().nativeElement.getBoundingClientRect(),rawValue=(evt.clientX-canvasRect.x)/canvasRect.width;this.value.set(Math.max(0,Math.min(1,rawValue))),this.valueChange.emit(this.value())}ngAfterViewInit(){this.drawSliderCanvas(),this.canvas().nativeElement.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),this.destroyRef.onDestroy(()=>{this.canvas().nativeElement.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("mousemove",this.onMouseMove)})}drawSliderCanvas(){const ctx=this.canvas().nativeElement.getContext("2d"),pixelSize={height:this.canvas().nativeElement.height,width:this.canvas().nativeElement.width},gradient=ctx.createLinearGradient(0,0,pixelSize.width,0);for(let i=0;i<=20;++i){const h=.05*i;gradient.addColorStop(h,(0,node_modules_color.A)({h:360*h,s:100,v:100}).hex())}ctx.fillStyle=gradient,ctx.fillRect(0,0,pixelSize.width,pixelSize.height)}computeCursorData(value,sliderWidth){return{horizontalOffset:`${sliderWidth*value-8}px`,color:(0,node_modules_color.A)({h:360*value,s:100,v:100}).hex()}}static{this.propDecorators={value:[{type:_debug_node_chunk.pde,args:[{isSignal:!0,alias:"value",required:!0}]},{type:_debug_node_chunk.k7i,args:["valueChange"]}],valueChange:[{type:_debug_node_chunk.k7i,args:["valueChange"]}],canvas:[{type:core.ViewChild,args:["canvas",{isSignal:!0}]}]}}};ColorSliderComponent=(0,tslib_es6.Cg)([(0,_debug_node_chunk.uAl)({selector:"app-color-slider",template:'<canvas #canvas width="250" height="8" class="slider"></canvas>\n\n@let cursor = cursorData();\n<div class="cursor"\n    [style.left]="cursor.horizontalOffset"\n    [style.background-color]="cursor.color">\n</div>',changeDetection:_debug_node_chunk.Ngq.OnPush,styles:[color_slider_componentngResource_default()]})],ColorSliderComponent);var color_canvas_componentngResource=__webpack_require__("./projects/irrtirer/src/app/shared/color-picker/color-selection-panel/color-canvas/color-canvas.component.scss?ngResource"),color_canvas_componentngResource_default=__webpack_require__.n(color_canvas_componentngResource);let ColorCanvasComponent=class ColorCanvasComponent{constructor(){this.hValue=core.input.required(),this.sValue=core.model.required(),this.vValue=core.model.required(),this.colorChange=(0,core.output)(),this.canvas=core.viewChild.required("canvas"),this.cursorData=(0,_resource_chunk.EW)(()=>this.computeCursorData()),this.destroyRef=(0,_untracked_chunk.WQX)(_untracked_chunk.abz),this.isDragging=!1,this.onMouseDown=evt=>{this.isDragging=!0,document.body.style.cursor="pointer",this.onCanvasMouseInteraction(evt)},this.onMouseUp=()=>{this.isDragging=!1,document.body.style.cursor=""},this.onMouseMove=evt=>{this.isDragging&&this.onCanvasMouseInteraction(evt)},(0,_untracked_chunk.QZP)(()=>this.drawColorCanvas())}onCanvasMouseInteraction(evt){const canvasRect=this.canvas().nativeElement.getBoundingClientRect(),horizontalRawValue=(evt.clientX-canvasRect.x)/canvasRect.width,verticalRawValue=(evt.clientY-canvasRect.y)/canvasRect.height;this.sValue.set(Math.min(1,Math.max(0,horizontalRawValue))),this.vValue.set(Math.min(1,Math.max(0,1-verticalRawValue))),this.colorChange.emit((0,node_modules_color.A)({h:360*this.hValue(),s:100*this.sValue(),v:100*this.vValue()}))}ngAfterViewInit(){this.canvas().nativeElement.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove),this.destroyRef.onDestroy(()=>{this.canvas().nativeElement.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mouseup",this.onMouseUp),window.addEventListener("mousemove",this.onMouseMove)})}drawColorCanvas(){const pixelSize={height:this.canvas().nativeElement.height,width:this.canvas().nativeElement.width},ctx=this.canvas().nativeElement.getContext("2d"),whiteToColorGrad=ctx.createLinearGradient(0,0,pixelSize.width,0);whiteToColorGrad.addColorStop(0,"#FFFFFF");const hueHexColor=(0,node_modules_color.A)({h:360*this.hValue(),s:100,v:100}).hex();whiteToColorGrad.addColorStop(1,hueHexColor);const transparentToBlackGrad=ctx.createLinearGradient(0,0,0,pixelSize.height);transparentToBlackGrad.addColorStop(0,"#00000000"),transparentToBlackGrad.addColorStop(1,"#000000"),ctx.fillStyle=whiteToColorGrad,ctx.fillRect(0,0,pixelSize.width,pixelSize.height),ctx.fillStyle=transparentToBlackGrad,ctx.fillRect(0,0,pixelSize.width,pixelSize.height)}computeCursorData(){const canvasSize=this.canvas().nativeElement.getBoundingClientRect();return{horizontalOffset:`${canvasSize.width*this.sValue()-8}px`,verticalOffset:`${canvasSize.height*(1-this.vValue())-8}px`,color:(0,node_modules_color.A)({h:360*this.hValue(),s:100*this.sValue(),v:100*this.vValue()}).hex()}}static{this.ctorParameters=()=>[]}static{this.propDecorators={hValue:[{type:_debug_node_chunk.pde,args:[{isSignal:!0,alias:"hValue",required:!0,transform:void 0}]}],sValue:[{type:_debug_node_chunk.pde,args:[{isSignal:!0,alias:"sValue",required:!0}]},{type:_debug_node_chunk.k7i,args:["sValueChange"]}],vValue:[{type:_debug_node_chunk.pde,args:[{isSignal:!0,alias:"vValue",required:!0}]},{type:_debug_node_chunk.k7i,args:["vValueChange"]}],colorChange:[{type:_debug_node_chunk.k7i,args:["colorChange"]}],canvas:[{type:core.ViewChild,args:["canvas",{isSignal:!0}]}]}}};ColorCanvasComponent=(0,tslib_es6.Cg)([(0,_debug_node_chunk.uAl)({selector:"app-color-canvas",template:'<canvas #canvas class="panel" width="250" height="150">\n</canvas>\n\n@let cursor = cursorData();\n<div class="cursor"\n    [style.left]="cursor.horizontalOffset"\n    [style.top]="cursor.verticalOffset"\n    [style.background-color]="cursor.color">\n</div>',changeDetection:_debug_node_chunk.Ngq.OnPush,styles:[color_canvas_componentngResource_default()]})],ColorCanvasComponent);const HexColorRegex=/^#([0-9a-f]{3}){1,2}$/i;let ColorSelectionPanelComponent=class ColorSelectionPanelComponent{constructor(){this.color=core.input.required({transform:value=>(0,node_modules_color.A)(value)}),this.colorChange=(0,core.output)(),this.hValue=(0,_resource_chunk.uu)({source:this.color,computation:color=>color.hue()/360}),this.sValue=(0,_resource_chunk.uu)({source:this.color,computation:color=>color.saturationv()/100}),this.vValue=(0,_resource_chunk.uu)({source:this.color,computation:color=>color.value()/100}),this.hexColor=(0,_resource_chunk.EW)(()=>(0,node_modules_color.A)({h:360*this.hValue(),s:100*this.sValue(),v:100*this.vValue()}).hex())}ngOnDestroy(){const color=(0,node_modules_color.A)({h:360*this.hValue(),s:100*this.sValue(),v:100*this.vValue()});this.colorChange.emit(color)}onHexCodeChange(evt){const input=evt.currentTarget;if(HexColorRegex.test(input.value)){const color=(0,node_modules_color.A)(input.value);this.hValue.set(color.hue()/360),this.sValue.set(color.saturationv()/100),this.vValue.set(color.value()/100)}}onColorCanvasChanged(color){this.sValue.set(color.saturationv()/100),this.vValue.set(color.value()/100)}static{this.propDecorators={color:[{type:_debug_node_chunk.pde,args:[{isSignal:!0,alias:"color",required:!0,transform:void 0}]}],colorChange:[{type:_debug_node_chunk.k7i,args:["colorChange"]}]}}};ColorSelectionPanelComponent=(0,tslib_es6.Cg)([(0,_debug_node_chunk.uAl)({selector:"app-color-selection-panel",imports:[input.fS,fesm2022_forms.YN,ColorSliderComponent,ColorCanvasComponent],template:'<div class="sv-preview">\n    <app-color-canvas \n        [hValue]="hValue()"\n        [sValue]="sValue()"\n        [vValue]="vValue()"\n        (colorChange)="onColorCanvasChanged($event)" />\n</div>\n\n<div class="slider-container">\n    <app-color-slider [(value)]="hValue"/>\n</div>\n\n<div class="result-wrapper">\n    <div role="presentation"\n        class="color-preview"\n        [style.background]="hexColor()">\n    </div>\n\n    <mat-form-field class="density-3 code-input" appearance="outline">\n        <mat-label>Hex</mat-label>\n        <input matInput [ngModel]="hexColor()" (change)="onHexCodeChange($event)">\n    </mat-form-field>\n</div>',changeDetection:_debug_node_chunk.Ngq.OnPush,styles:[color_selection_panel_componentngResource_default()]})],ColorSelectionPanelComponent);let ColorPickerComponent=class ColorPickerComponent{constructor(){this.label=core.input.required(),this.value=(0,core.model)("#000000"),this.disabled=(0,core.model)(!1),this.isOpen=(0,_untracked_chunk.vPA)(!1),this.onChange=()=>{},this.onTouched=()=>{},this.valueChangedEffect=(0,_untracked_chunk.QZP)(()=>{this.onChange(this.value())})}toggleColorPanel(){this.disabled()||this.isOpen.update(value=>!value)}onColorChanged(color){this.value.set(color.hex())}writeValue(value){this.value.set(value)}registerOnChange(fn){this.onChange=fn}registerOnTouched(fn){this.onTouched=fn}setDisabledState(isDisabled){this.disabled.set(isDisabled)}static{this.propDecorators={label:[{type:_debug_node_chunk.pde,args:[{isSignal:!0,alias:"label",required:!0,transform:void 0}]}],value:[{type:_debug_node_chunk.pde,args:[{isSignal:!0,alias:"value",required:!1}]},{type:_debug_node_chunk.k7i,args:["valueChange"]}],disabled:[{type:_debug_node_chunk.pde,args:[{isSignal:!0,alias:"disabled",required:!1}]},{type:_debug_node_chunk.k7i,args:["disabledChange"]}]}}};ColorPickerComponent=(0,tslib_es6.Cg)([(0,_debug_node_chunk.uAl)({selector:"app-color-picker",imports:[_overlay_module_chunk.z_,ColorSelectionPanelComponent],providers:[{provide:fesm2022_forms.kq,useExisting:(0,_untracked_chunk.Rfq)(()=>ColorPickerComponent),multi:!0}],template:'<div class="color-label">\n    <span class="color-label__header">{{ label() }}</span>\n    <span class="color-label__code">{{ value() }}</span>\n</div>\n\n<div role="presentation" \n    class="color-preview"\n    [class.disabled]="disabled()"\n    [style.background-color]="value()"\n    (click)="toggleColorPanel()"\n    cdkOverlayOrigin \n    #trigger="cdkOverlayOrigin">\n</div>\n\n<ng-template cdkConnectedOverlay \n    [cdkConnectedOverlayOrigin]="trigger"\n    [cdkConnectedOverlayOpen]="isOpen()" \n    [cdkConnectedOverlayHasBackdrop]="isOpen()"\n    [cdkConnectedOverlayBackdropClass]="\'cdk-overlay-transparent-backdrop-cs\'"\n    (backdropClick)="toggleColorPanel()">\n    <app-color-selection-panel [color]="value()" (colorChange)="onColorChanged($event)"/>\n</ng-template>',changeDetection:_debug_node_chunk.Ngq.OnPush,styles:[color_picker_componentngResource_default()]})],ColorPickerComponent);const color_picker_stories={title:"Komponenty/Color Picker",component:ColorPickerComponent,tags:["autodocs"],argTypes:{disabled:{control:"boolean"},label:{control:"text"},value:{control:"color"}}},Default={args:{disabled:!1,label:"Wybierz kolor",value:"#2c96d3"}},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    disabled: false,\n    label: 'Wybierz kolor',\n    value: '#2c96d3'\n  }\n}",...Default.parameters?.docs?.source}}}},"./projects/irrtirer/src/app/shared/color-picker/color-selection-panel/color-canvas/color-canvas.component.scss?ngResource"(module,__unused_webpack_exports,__webpack_require__){var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  position: relative;\n  cursor: pointer;\n  overflow: hidden;\n  display: block;\n}\n:host .panel {\n  display: block;\n  width: 100%;\n}\n:host .cursor {\n  position: absolute;\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  border: 2px solid #ffffff;\n  box-sizing: border-box;\n  pointer-events: none;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/irrtirer/src/app/shared/color-picker/color-selection-panel/color-selection-panel.component.scss?ngResource"(module,__unused_webpack_exports,__webpack_require__){var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  display: flex;\n  flex-direction: column;\n  background-color: var(--irr-contrast-lightest);\n  border-radius: 5px;\n  overflow: hidden;\n  box-shadow: 0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);\n}\n:host .slider-container {\n  padding: 20px 10px;\n}\n:host .result-wrapper {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  gap: 10px;\n  padding: 0 10px 15px 10px;\n}\n:host .result-wrapper .color-preview {\n  display: block;\n  min-width: 40px;\n  height: 40px;\n  border-radius: 50%;\n  box-shadow: 0px 0px 4px 1px rgba(0, 0, 0, 0.2);\n}\n:host .result-wrapper .code-input {\n  width: auto;\n}\n:host .result-wrapper .code-input ::ng-deep .mat-mdc-form-field-subscript-wrapper {\n  display: none;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()},"./projects/irrtirer/src/app/shared/color-picker/color-selection-panel/color-slider/color-slider.component.scss?ngResource"(module,__unused_webpack_exports,__webpack_require__){var ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/noSourceMaps.js"),___CSS_LOADER_EXPORT___=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js")(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);___CSS_LOADER_EXPORT___.push([module.id,":host {\n  width: 100%;\n  position: relative;\n  cursor: pointer;\n}\n:host .slider {\n  display: block;\n  width: 100%;\n  height: 8px;\n  border-radius: 5px;\n}\n:host .cursor {\n  position: absolute;\n  width: 18px;\n  height: 18px;\n  border-radius: 50%;\n  border: 2px solid #ffffff;\n  box-sizing: border-box;\n  top: -5px;\n  pointer-events: none;\n}",""]),module.exports=___CSS_LOADER_EXPORT___.toString()}}]);